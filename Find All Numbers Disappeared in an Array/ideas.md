This algorithm is really beautiful.
The question can be solved in o(n) and only o(1) in space.
This is the first time that I met this classical question (as mentioned by many discussion).
You can think of the question as turn down all the switches on the wall, even if they are already off, still turn it off.
Thus, we can think of using a negative value. No matter how many times you try set it, it is still negative.
But we are not simply set it to some negative constants like -1, we set it to its negative value.
In this way, we still keep track of its original value.
I really enjoy learning algorithms like this.
Definitely, the amount of duplicate times can be more than two in this question.